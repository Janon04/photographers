{% extends 'base.html' %}
{% load static %}
{% block title %}PhotoRw | Professional Photography Platform{% endblock %}
{% block head %}
<link rel="stylesheet" href="{% static 'css/home.css' %}">
<style>
:root {
    --primary-dark: #2D2013;
    --primary: #3A2A1B;
    --accent: #A67C52;
    --accent-light: #C7A17A;
    --surface: #FFFFFF;
    --text-main: #2D2013;
    --text-light: #6B6B6B;
}

.hero-section {
	position: relative;
	min-height: 85vh;
	display: flex;
	align-items: center;
	justify-content: center;
	padding: 4rem 2rem;
	background: url('/media/profile_pics/Mize.jpg') center center/cover no-repeat;
	overflow: hidden;
	border-radius: 0 0 2rem 2rem;
}

.hero-content-pro {
	position: relative;
	z-index: 2;
	max-width: 700px;
	background: rgba(30, 22, 10, 0.72);
	border-radius: 1.5rem;
	box-shadow: 0 15px 35px rgba(45,32,19,0.18);
	padding: 3.5rem 3rem;
	text-align: center;
	backdrop-filter: blur(6px);
	border: 1.5px solid rgba(199,161,122,0.25);
}

.hero-title {
	font-size: 3.2rem;
	font-weight: 800;
	color: #ffd700;
	margin-bottom: 1.2rem;
	letter-spacing: 2px;
	font-family: 'Playfair Display', Georgia, serif;
	text-transform: uppercase;
	text-shadow: 0 2px 12px rgba(0,0,0,0.25);
}

.hero-subtitle {
	color: #fff;
	font-size: 1.25rem;
	line-height: 1.7;
	margin-bottom: 2.5rem;
	font-weight: 400;
	text-shadow: 0 2px 8px rgba(0,0,0,0.18);
}

.cta-btns {
	margin: 2.5rem 0 1.8rem 0;
	display: flex;
	flex-wrap: wrap;
	justify-content: center;
	gap: 1rem;
}

.cta-btns a {
	display: inline-block;
	background: var(--accent);
	color: white;
	font-weight: 600;
	padding: 1rem 2.5rem;
	border-radius: 2rem;
	text-decoration: none;
	font-size: 1.1rem;
	box-shadow: 0 4px 15px rgba(166, 124, 82, 0.3);
	transition: all 0.3s ease;
	border: 2px solid var(--accent);
}

.cta-btns a:hover {
	background: transparent;
	color: var(--accent);
	transform: translateY(-3px);
	box-shadow: 0 8px 20px rgba(166, 124, 82, 0.4);
}

.cta-btns a:first-child {
	background: var(--primary-dark);
	border-color: var(--primary-dark);
}

.cta-btns a:first-child:hover {
	background: transparent;
	color: var(--primary-dark);
}

.secondary-links {
	margin-top: 2rem;
	font-size: 1rem;
	color: var(--text-main);
}

.secondary-links a {
	color: var(--accent);
	text-decoration: none;
	font-weight: 600;
	margin: 0 1rem;
	padding-bottom: 2px;
	border-bottom: 2px solid transparent;
	transition: all 0.2s ease;
}

.secondary-links a:hover {
	border-bottom: 2px solid var(--accent);
}

.secondary-links form {
	display: inline;
}

.secondary-links button {
	background: none;
	border: none;
	color: var(--accent);
	text-decoration: none;
	font-weight: 600;
	margin: 0 1rem;
	padding-bottom: 2px;
	border-bottom: 2px solid transparent;
	transition: all 0.2s ease;
	cursor: pointer;
	font-size: 1rem;
	font-family: inherit;
}

.secondary-links button:hover {
	border-bottom: 2px solid var(--accent);
}

.features-section {
	max-width: 1200px;
	margin: 5rem auto;
	display: flex;
	flex-wrap: wrap;
	gap: 2.5rem;
	justify-content: center;
	padding: 0 2rem;
}

.feature-card {
	background: var(--surface);
	border-radius: 1.2rem;
	box-shadow: 0 5px 25px rgba(45,32,19,0.08);
	padding: 2.5rem 2rem;
	flex: 1 1 280px;
	min-width: 280px;
	max-width: 350px;
	text-align: center;
	transition: transform 0.3s ease, box-shadow 0.3s ease;
	border: 1px solid rgba(58,42,27,0.1);
}

.feature-card:hover {
	transform: translateY(-10px);
	box-shadow: 0 15px 35px rgba(45,32,19,0.12);
}

.feature-icon {
	font-size: 3rem;
	color: var(--accent);
	margin-bottom: 1.5rem;
	display: block;
}

.feature-title {
	font-size: 1.4rem;
	font-weight: 600;
	margin-bottom: 1rem;
	color: var(--primary-dark);
	font-family: 'Playfair Display', Georgia, serif;
}

.feature-desc {
	color: var(--text-light);
	font-size: 1.05rem;
	line-height: 1.6;
}

@media (max-width: 900px) {
	.hero-section { 
		min-height: 75vh;
		padding: 2rem 1rem; 
	}
	
	.hero-content-pro {
		padding: 2.5rem 2rem;
	}
	
	.cta-btns a {
		display: inline-block;
		background: linear-gradient(90deg, #ffd700 0%, #c7a17a 100%);
		color: #2d2013;
		font-weight: 700;
		padding: 1rem 2.5rem;
		border-radius: 2rem;
		text-decoration: none;
		font-size: 1.1rem;
		box-shadow: 0 4px 15px rgba(199,161,122,0.18);
		transition: all 0.3s cubic-bezier(.4,2,.3,1);
		border: none;
		margin-bottom: 0.5rem;
	}
	.cta-btns a:hover {
		background: #fff;
		color: #c7a17a;
		transform: translateY(-2px) scale(1.04);
		box-shadow: 0 8px 24px rgba(199,161,122,0.28);
	}
	
	.cta-btns a {
		width: 100%;
		max-width: 280px;
		text-align: center;
	}
	
	.secondary-links {
		display: flex;
		flex-direction: column;
		gap: 0.8rem;
	}
	
	.secondary-links a, .secondary-links form {
		margin: 0;
	}
}
</style>
{% endblock %}
{% block content %}
<div class="hero-section" role="banner" aria-label="PhotoRw hero section">
	<div class="hero-content-pro">
		<div class="hero-title">PhotoRw</div>
		<div class="hero-subtitle">
			Discover, book, and connect with Rwanda's premier photographers.<br>
			<span style="color:#ffd700;font-weight:600;">Showcase your portfolio</span>, grow your business, and capture life's most precious moments.
		</div>
		<div class="cta-btns">
			<a href="/explore/">Explore Photos</a>
			<a href="/portfolio/photographers/">Find Photographers</a>
			<a href="/reviews/">Read Reviews</a>
		</div>
		<div class="secondary-links">
			{% if not user.is_authenticated %}
				<a href="/users/login/" style="color:#fff;background:rgba(199,161,122,0.18);padding:0.5rem 1.5rem;border-radius:1.2rem;margin-right:0.5rem;font-weight:700;backdrop-filter:blur(2px);">Log In</a>
				<a href="/users/register/" style="color:#2d2013;background:linear-gradient(90deg,#ffd700 0%,#c7a17a 100%);padding:0.5rem 1.5rem;border-radius:1.2rem;font-weight:700;box-shadow:0 2px 8px rgba(199,161,122,0.18);">Sign Up</a>
			{% else %}
				<a href="/users/profile/" style="color:#fff;background:rgba(199,161,122,0.18);padding:0.5rem 1.5rem;border-radius:1.2rem;margin-right:0.5rem;font-weight:700;backdrop-filter:blur(2px);">Go to Profile</a>
				<form method="post" action="/users/logout/" style="display:inline;">
					{% csrf_token %}
					<button type="submit" style="background:linear-gradient(90deg,#ffd700 0%,#c7a17a 100%);color:#2d2013;border:none;padding:0.5rem 1.5rem;border-radius:1.2rem;font-weight:700;box-shadow:0 2px 8px rgba(199,161,122,0.18);cursor:pointer;">Log Out</button>
				</form>
			{% endif %}
		</div>
	</div>
</div>

<!-- Featured Photos Section -->
<div class="featured-photos-section" style="max-width:1200px;margin:4rem auto 0 auto;padding:2.5rem 2rem 3rem 2rem;background:linear-gradient(120deg,#fffbe6 0%,#f8f6f3 100%);border-radius:2rem;box-shadow:0 8px 32px rgba(199,161,122,0.09);">
	<h2 style="font-size:2.2rem;font-family:'Playfair Display',serif;font-weight:800;color:#2d2013;text-align:center;margin-bottom:2.2rem;letter-spacing:1px;text-shadow:0 2px 12px #fffbe6;">Featured Photos</h2>
	<div style="display:flex;flex-wrap:wrap;gap:2.5rem;justify-content:center;">
		{% for photo in featured_photos %}
			<div class="featured-photo-card" style="background:#fff;border-radius:1.2rem;box-shadow:0 2px 12px rgba(199,161,122,0.13);padding:1.2rem 1rem;flex:1 1 260px;min-width:260px;max-width:320px;text-align:center;backdrop-filter:blur(2px);border:1.5px solid #ffd700;position:relative;">
				<img src="{{ photo.image.url }}" alt="{{ photo.title }}" style="width:100%;height:220px;object-fit:cover;border-radius:1rem 1rem 0 0;box-shadow:0 2px 8px #ffd70033;">
				<div style="padding:1rem 0 0.5rem 0;">
					<div style="font-size:1.1rem;font-weight:700;color:#2d2013;margin-bottom:0.3rem;">{{ photo.title }}</div>
					<div style="font-size:0.98rem;color:#a67c52;margin-bottom:0.5rem;">by {{ photo.photographer.get_full_name }}</div>
				</div>
				<div style="display:flex;align-items:center;justify-content:center;gap:1.2rem;margin-bottom:0.7rem;">
					<button class="like-btn" data-photo-id="{{ photo.id }}" style="background:none;border:none;cursor:pointer;font-size:1.3rem;color:#43a047;display:flex;align-items:center;gap:0.3rem;">
						<span aria-label="Like">üëç</span> <span class="like-count">{{ photo.likes_count }}</span>
					</button>
					<button class="dislike-btn" data-photo-id="{{ photo.id }}" style="background:none;border:none;cursor:pointer;font-size:1.3rem;color:#e53935;display:flex;align-items:center;gap:0.3rem;">
						<span aria-label="Dislike">üëé</span> <span class="dislike-count">{{ photo.dislikes_count }}</span>
					</button>
				</div>
				<div style="font-size:0.95rem;color:#6b6b6b;min-height:2.2rem;">{{ photo.description|truncatechars:80 }}</div>
			</div>
		{% empty %}
			<div style="color:#a67c52;font-size:1.1rem;text-align:center;">No featured photos yet. Be the first to like a photo!</div>
		{% endfor %}
	</div>
</div>

<div class="features-section" style="background:linear-gradient(120deg,#fffbe6 0%,#f8f6f3 100%);border-radius:2rem;box-shadow:0 8px 32px rgba(199,161,122,0.07);padding:3rem 2rem 2.5rem 2rem;margin-top:5rem;">
  <div style="display:flex;flex-wrap:wrap;gap:2.5rem;justify-content:center;">
    <div class="feature-card" style="background:linear-gradient(135deg,#fffbe6 60%,#c7a17a 100%);border-radius:1.2rem;box-shadow:0 2px 12px rgba(199,161,122,0.13);padding:1.2rem 1rem;flex:1 1 180px;min-width:180px;max-width:220px;text-align:center;backdrop-filter:blur(2px);border:1.5px solid #a67c52;">
      <div class="feature-icon" style="font-size:2rem;color:#b8860b;margin-bottom:0.7rem;">üì∏</div>
      <div class="feature-title" style="font-size:1rem;font-weight:700;color:#2d2013;margin-bottom:0.5rem;text-shadow:0 1px 4px #fffbe6;">Showcase Portfolios</div>
      <div class="feature-desc" style="color:#2d2013;font-size:0.95rem;text-shadow:0 1px 4px #fffbe6;">Photographers can display their best work in elegant, professional galleries that highlight their unique style and expertise.</div>
    </div>
    <div class="feature-card" style="background:linear-gradient(135deg,#fffbe6 60%,#a67c52 100%);border-radius:1.2rem;box-shadow:0 2px 12px rgba(199,161,122,0.13);padding:1.2rem 1rem;flex:1 1 180px;min-width:180px;max-width:220px;text-align:center;backdrop-filter:blur(2px);border:1.5px solid #c7a17a;">
      <div class="feature-icon" style="font-size:2rem;color:#b8860b;margin-bottom:0.7rem;">ü§ù</div>
      <div class="feature-title" style="font-size:1rem;font-weight:700;color:#2d2013;margin-bottom:0.5rem;text-shadow:0 1px 4px #fffbe6;">Seamless Booking</div>
      <div class="feature-desc" style="color:#2d2013;font-size:0.95rem;text-shadow:0 1px 4px #fffbe6;">Clients can effortlessly search, compare, and book the perfect photographer for any occasion with our intuitive platform.</div>
    </div>
    <div class="feature-card" style="background:linear-gradient(135deg,#fffbe6 60%,#ffd700 100%);border-radius:1.2rem;box-shadow:0 2px 12px rgba(199,161,122,0.13);padding:1.2rem 1rem;flex:1 1 180px;min-width:180px;max-width:220px;text-align:center;backdrop-filter:blur(2px);border:1.5px solid #ffd700;">
      <div class="feature-icon" style="font-size:2rem;color:#b8860b;margin-bottom:0.7rem;">‚≠ê</div>
      <div class="feature-title" style="font-size:1rem;font-weight:700;color:#2d2013;margin-bottom:0.5rem;text-shadow:0 1px 4px #fffbe6;">Verified Reviews</div>
      <div class="feature-desc" style="color:#2d2013;font-size:0.95rem;text-shadow:0 1px 4px #fffbe6;">Make informed decisions with authentic feedback and ratings from previous clients, ensuring quality and reliability.</div>
    </div>
    <div class="feature-card" style="background:linear-gradient(135deg,#3a2a1b 60%,#ffd700 100%);border-radius:1.2rem;box-shadow:0 2px 12px rgba(199,161,122,0.18);padding:1.2rem 1rem;flex:1 1 180px;min-width:180px;max-width:220px;text-align:center;backdrop-filter:blur(2px);border:2px solid #ffd700;">
      <div class="feature-icon" style="font-size:2rem;color:#ffd700;margin-bottom:0.7rem;">üí¨</div>
      <div class="feature-title" style="font-size:1rem;font-weight:700;color:#ffd700;margin-bottom:0.5rem;text-shadow:0 1px 6px #2d2013;">Creative Community</div>
      <div class="feature-desc" style="color:#fffbe6;font-size:0.95rem;text-shadow:0 1px 6px #2d2013;">Connect with fellow photographers, share insights, and stay inspired within Rwanda's growing photography network.</div>
    </div>
  </div>
</div>



<script>
document.addEventListener('DOMContentLoaded', function() {
	function updateLikeDislike(btn, likes, dislikes) {
		const card = btn.closest('.featured-photo-card');
		if (card) {
			card.querySelector('.like-count').textContent = likes;
			card.querySelector('.dislike-count').textContent = dislikes;
		}
	}
	document.querySelectorAll('.like-btn').forEach(function(btn) {
		btn.addEventListener('click', function() {
			const photoId = btn.getAttribute('data-photo-id');
			fetch('/api/portfolio/like-photo/', {
				method: 'POST',
				headers: {
					'Content-Type': 'application/x-www-form-urlencoded',
					'X-CSRFToken': '{{ csrf_token }}',
				},
				body: 'photo_id=' + photoId
			})
			.then(response => response.json())
			.then(data => {
				if (data.success) {
					updateLikeDislike(btn, data.likes, data.dislikes);
				}
			});
		});
	});
	document.querySelectorAll('.dislike-btn').forEach(function(btn) {
		btn.addEventListener('click', function() {
			const photoId = btn.getAttribute('data-photo-id');
			fetch('/api/portfolio/dislike-photo/', {
				method: 'POST',
				headers: {
					'Content-Type': 'application/x-www-form-urlencoded',
					'X-CSRFToken': '{{ csrf_token }}',
				},
				body: 'photo_id=' + photoId
			})
			.then(response => response.json())
			.then(data => {
				if (data.success) {
					updateLikeDislike(btn, data.likes, data.dislikes);
				}
			});
		});
	});
});
</script>

{% endblock %}